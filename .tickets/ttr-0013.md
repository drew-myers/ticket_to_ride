---
id: ttr-0013
status: open
deps: [ttr-0001]
links: []
created: 2026-01-29T18:12:00Z
type: task
priority: 2
assignee: acmyers
parent: ttr-0012
tags: [github, projects]
external-ref: gh-13
---
# GitHub Projects Integration

Implement adding issues to GitHub Projects and setting field values.

## Description

Implement in `src/github/projects.rs`:

### Project Discovery
- `get_project(repo, name_or_number)` - find project by name or number
- Handle both org-level and repo-level projects

### Schema Validation
- `get_project_fields(project_id)` - fetch all fields
- `validate_type_mapping(project_id, type_map)` - verify configured type values exist
- Return clear error with available options if validation fails

### Adding to Project
- `add_issue_to_project(project_id, issue_id)` - returns project item ID
- `set_field_value(project_id, item_id, field_id, value)` - set single-select field

### GraphQL Operations

Query project fields:
```graphql
query {
  node(id: $projectId) {
    ... on ProjectV2 {
      fields(first: 50) {
        nodes {
          ... on ProjectV2SingleSelectField {
            id
            name
            options { id name }
          }
        }
      }
    }
  }
}
```

Mutations:
- `addProjectV2ItemById`
- `updateProjectV2ItemFieldValue`

## Acceptance Criteria

- [ ] Can find project by name or number
- [ ] Validates type field options before sync
- [ ] Clear error message listing available options on validation failure
- [ ] Adds issues to project
- [ ] Sets Type field based on ticket type
