---
id: ttr-0018
status: closed
deps: [ttr-0001]
links: []
created: 2026-01-29T22:00:00Z
type: task
priority: 2
assignee: acmyers
parent: ttr-0012
tags: [github, issue-types]
external-ref: gh-24
---
# Issue Type Sync

Set GitHub Issue Type based on ticket type during create/update.

## Description

GitHub Organizations can define Issue Types (Bug, Feature, Task, etc.) at the org level. When syncing tickets, we should set the issue type based on the ticket's `type` field.

### Config

```toml
[mapping.type]
bug = "Bug"
feature = "Feature"
task = "Task"
epic = "Task"    # map to closest match
chore = "Task"
```

### Implementation

1. On `SyncEngine::new()`:
   - Fetch repo's available issue types via `repository.issueTypes`
   - Build `type_name -> issue_type_id` map (case-insensitive)
   - Validate all config mappings exist, fail fast with available options if not

2. On issue create/update:
   - Look up `ticket.type` in config mapping
   - Pass `issueTypeId` to `createIssue` / `updateIssue` mutations

### Edge Cases

- Personal repos don't support issue types (org-only feature)
- If repo has no issue types, skip silently
- If config maps to non-existent type, fail with helpful error listing available types

## Acceptance Criteria

- [ ] Fetches and caches repo issue types on startup
- [ ] Sets issue type on create based on ticket.type mapping
- [ ] Updates issue type on update if changed
- [ ] Gracefully handles repos without issue types (personal repos)
- [ ] Fails fast with clear error if mapping references unknown type
