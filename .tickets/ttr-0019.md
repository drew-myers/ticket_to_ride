---
id: ttr-0019
status: open
deps: [ttr-0001]
links: []
created: 2026-01-29T22:01:00Z
type: task
priority: 2
assignee: acmyers
parent: ttr-0012
tags: [github, projects]
external-ref: gh-25
---
# Add Issues to Project

Add synced issues to a GitHub Project.

## Description

When a project is configured, newly created issues should be added to that project automatically.

### Config

```toml
[github]
project = "ttr Roadmap"  # project name or number
```

### Implementation

1. On `SyncEngine::new()`:
   - If `config.github.project` is set, find the project
   - Search order: repo-level projects, then org/user-level projects
   - Cache project ID for use during sync

2. After batch issue creation (Phase 2):
   - Batch call `addProjectV2ItemById` for all newly created issues
   - Store returned `itemId` for each issue (needed for field sync in ttr-0020)

3. Handle idempotency:
   - If issue already in project, treat as success

### Project Discovery

Projects can be:
- Repo-level: `repository.projectsV2`
- Org-level: `organization.projectsV2`
- User-level: `user.projectsV2`

Try repo first, then owner (org or user based on repo owner type).

### Edge Cases

- Project not found: fail with clear error
- Project not configured: skip silently (no warning needed)
- Issue already in project: succeed (idempotent)

## Acceptance Criteria

- [ ] Finds project by name (case-insensitive) or number
- [ ] Searches repo-level then org/user-level projects
- [ ] Adds new issues to project in batch
- [ ] Idempotent - handles issues already in project
- [ ] Clear error if configured project not found
